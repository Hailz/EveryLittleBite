<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h1><strong>Pantry</strong></h1>
    <div ng-hide='isLoggedIn()'>
      <h2>Please <a href="/signup">create an account</a> or <a href="/login">login</a> to access your pantry!</h2>
    </div> 
  </div>
</div>
<section>
  <div ng-show='isLoggedIn()'>
    <div class="row">
      <div ng-if='userPantry < 1' class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <h2>You don't have any items in your pantry!</h2>
        <a href="/addItem"><button class="btn btn-lg btn-default addItemBtn">Add Items</button></a>
      </div>
      <div ng-if='userPantry.length > 0' class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <button class="btn btn-md btn-default addItemBtn"><a href="/addItem">Add More Items</a></button>
      </div>
    </div>
    <div class=" form-group row">
      <label class="col-xs-3">Search</label>
      <div class="col-xs-9">
        <input class="form-control" type="text" name="search" ng-model='search'>
      </div>
    </div>

    <div ng-if='search' class="col-xs-6 col-sm-4 col-md-4 col-lg-4" ng-repeat='item in userPantry | filter: search track by item._id'>
      <div class="itemCard bg-{{getClass(item.addDate, item.useBy)}}">
        <a ng-href="/pantry/{{item._id}}">
        <h3>{{item.name}}</h3>
        <h4>Purchased: {{item.addDate | date}}</h4>
        <img class="img-circle productImg" ng-src="{{item.img}}">
        </a>
      </div>
    </div>

    <div ng-if='!search'>
      <div class="row" ng-if='fruits.length > 0'>
        <h1 class="fruits">Fruits</h1>
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4" ng-repeat='item in fruits track by item._id'>
          <div class="itemCard bg-{{getClass(item.addDate, item.useBy)}}">
            <a ng-href="/pantry/{{item._id}}">
            <h3>{{item.name}}</h3>
            <h4>Purchased: {{item.addDate | date}}</h4>
            <img class="img-circle productImg" ng-src="{{item.img}}">
            </a>
          </div>
        </div>
      </div>

      <div class="row" ng-if='vegetables.length > 0'>
        <h1 class="vegetables">Vegetables</h1>
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4" ng-repeat='item in vegetables track by item._id'>
          <div class="itemCard bg-{{getClass(item.addDate, item.useBy)}}">
            <a ng-href="/pantry/{{item._id}}">
            <h3>{{item.name}}</h3>
            <h4>Purchased: {{item.addDate | date}}</h4>
            <img class="img-circle productImg" ng-src="{{item.img}}">
            </a>
          </div>
        </div>
      </div>

      <div class="row" ng-if='dairy.length > 0'>
        <h1 class="dairy">Dairy</h1>
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4" ng-repeat='item in dairy track by item._id'>
          <div class="itemCard bg-{{getClass(item.addDate, item.useBy)}}">
            <a ng-href="/pantry/{{item._id}}">
            <h3>{{item.name}}</h3>
            <h4>Purchased: {{item.addDate | date}}</h4>
            <img class="img-circle productImg" ng-src="{{item.img}}">
            </a>
          </div>
        </div> 
      </div>

      <div class="row" ng-if='meat.length > 0'>
        <h1 class="meat">Meat</h1>
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4" ng-repeat='item in meat track by item._id'>
          <div class="itemCard bg-{{getClass(item.addDate, item.useBy)}}">
            <a ng-href="/pantry/{{item._id}}">
            <h3>{{item.name}}</h3>
            <h4>Purchased: {{item.addDate | date}}</h4>
            <img class="img-circle productImg" ng-src="{{item.img}}">
            </a>
          </div>
        </div>        
      </div>

      <div class="row" ng-if='unknown.length > 0'>
        <h1 class="unknown">Unknown</h1>
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4" ng-repeat='item in unknown track by item._id'>
          <div class="itemCard bg-{{getClass(item.addDate, item.useBy)}}">
            <a ng-href="/pantry/{{item._id}}">
            <h3>{{item.name}}</h3>
            <h4>Purchased: {{item.addDate | date}}</h4>
            <img class="img-circle productImg" ng-src="{{item.img}}">
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
</section>
